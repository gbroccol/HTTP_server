<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Webserver</title>


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

	<style>
		body, html {
			padding: 0;
			margin: auto;
			background-color:  #c1bdba;
			font-family: 'Titillium Web', sans-serif;
			text-align: center;

			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			top: 0;

			height: 100px;


			background-repeat: no-repeat;
			background-attachment: fixed;
			background-size: cover;
		}
		button {
			color: white;
			text-align: center;
		}
		.button {
			border: 0;
			outline: none;
			border-radius: 30px;
			padding: 15px 20px;
			font-size: 1.1rem;
			font-weight: 500;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			background: #1ab188;
			color: #fff;
			transition: all 0.5s ease;
			-webkit-appearance: none;
		}
		.button:hover, .button:focus {
			background: #179b77;
		}
		a {
			text-decoration: none;
		}
	</style>

</head>
<body>

	<a href="../close/space.html">
		<button class="button"> I want to see space </button>
	</a>
	<a href="index.html">
		<button class="button"> Authentication </button>
	</a>
	<br>
	<br>
	Download <a href="../download/download.html" download> index.html </a>
	<br>
	<br>
	<a href="../download/images/spacecat01.png" download>
		<img src="../download/images/spacecat01.png" height="200px">
	</a>
	<a href="../download/images/spacecat02.png" download>
		<img src="../download/images/spacecat02.png" height="200px">
	</a>
	<a href="../download/images/spacecat03.png" download>
		<img src="../download/images/spacecat03.png" height="200px">
	</a>
	<a href="../users/gbroccol/file.png" download>
		<img src="../users/gbroccol/file.png" height="200px">
	</a>
	<a href="../download/images/spacecat05.png" download>
		<img src="../download/images/spacecat05.png" height="200px">
	</a>
	<a href="../download/images/spacecat05.png" download>
		<img src="../download/images/spacecat06.png" height="200px">
	</a>
	<br>

	<form enctype="multipart/form-data" method="post">
		<p> Upload new files </p>
		<p>
<!--			<input type="file" name="data" multiple accept="image/png, text/html" >-->
			<input id="image-file" type="file" onchange="SavePhoto(this)" >
			<input type="submit" value="Upload new file"></p>
	</form>

<!--	<br>-->
<!--	<br>-->

<!--	Попытка 2 <br>-->

<!--	<input id="image-file" type="file" onchange="SavePhoto(this)" >-->
<!--	<br><br>-->
<!--	Before selecting the file open chrome console > network tab to see the request details.-->
<!--	<br><br>-->
<!--	<small>Because in this example we send request to https://stacksnippets.net/upload/image the response code will be 404 ofcourse...</small>-->

<!--	<br><br>-->
<!--	(in stack overflow snippets there is problem with error handling, however in-->
<!--	<a href="https://jsfiddle.net/Lamik/b8ed5x3y/5/">jsfiddle version</a> for 404 errors 4xx/5xx are-->
<!--	<a href="https://stackoverflow.com/a/33355142/860099">not throwing</a>-->
<!--	at all but we can read response status which contains code)-->


	<script>
		async function SavePhoto(inp)
		{
			let user = { name:'gbroccol', age:18 };
			let formData = new FormData();
			let photo = inp.files[0];

			formData.append("photo", photo);
			formData.append("user", JSON.stringify(user));

			const ctrl = new AbortController()    // timeout
			setTimeout(() => ctrl.abort(), 5000);

			try {
				let r = await fetch('/users', { method: "POST", body: formData, signal: ctrl.signal });
				console.log('HTTP response code:',r.status);
			} catch(e) {
				console.log('Huston we have problem...:', e);
			}
		}
	</script>



<!--	<a href=""> Delete file (choose from list) </a>-->

</body>
</html>
